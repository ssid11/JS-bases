<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="btnBuy">Купить</button>
    <div id="basket"></div>
    <script>
        function Good(name = 'Empty', price = 0) {
            this.name = name;
            this.price = price;
        }

        function Basket() {
            this.goods = new Array();
            this.getTotalPrice = function () {
                let totalPrice = 0;
                for (const good of this.goods) {
                    totalPrice += good.price;
                }
                return totalPrice;
            }
            this.getBasketSize = function () {
                return this.goods.length;
            }
            this.addGood = function (good = {}) {
                if (!Object.keys(good).length) { console.log('Not good for add to basket!'); return this.getBasketSize }
                return this.goods.push(good);
            }
        }

        // Обработка нажатия  кнопки
        function buyClick(event) {
            b.addGood(new Good('Orange', 30));
            basketRender();
        }

        // Вывод корзины на страницу
        function basketRender() {
            if (b.getBasketSize() === 0)
                span.innerText = 'Корзина пуста';
            else
                span.innerText = `В корзине товаров: ${b.getBasketSize()}, стоимость: ${b.getTotalPrice()} руб.`;
        }
      
        let b = new Basket();
        let a = new Good('Apple', 10)
        b.addGood(a);
        b.addGood(new Good('banana', 20));
        b.addGood();
        btn = document.getElementById('btnBuy');
        btn.onclick = buyClick;
        div = document.getElementById('basket');
        span = document.createElement('span');
        div.appendChild(span);
        basketRender();

    </script>
</body>

</html>
